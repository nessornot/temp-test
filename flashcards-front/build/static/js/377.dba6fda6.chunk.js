"use strict";(self.webpackChunkflashcards_front=self.webpackChunkflashcards_front||[]).push([[377],{377:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(43),n=a(872),r=a(854),c=a(579);function i(e){let{index:s,question:a,answer:t,onChange:n,onRemove:r}=e;const i=(e,a)=>{n(s,e,a)};return(0,c.jsxs)("div",{className:"card",children:[(0,c.jsxs)("div",{className:"card__nav",children:[(0,c.jsx)("div",{className:"card__index",children:s+1}),(0,c.jsx)("button",{className:"card__delete",onClick:()=>r(s),type:"button",children:(0,c.jsx)("img",{src:"/img/deleteCard.svg",alt:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})})]}),(0,c.jsxs)("div",{className:"card__content",children:[(0,c.jsxs)("div",{className:"card__input__wrapper",children:[(0,c.jsx)("input",{type:"text",className:"card__question",placeholder:"_",value:a,onChange:e=>i("question",e.target.value),required:!0}),(0,c.jsx)("div",{className:"card__input__caption",children:"\u0422\u0415\u0420\u041c\u0418\u041d"})]}),(0,c.jsxs)("div",{className:"card__input__wrapper",children:[(0,c.jsx)("input",{type:"text",className:"card__answer",placeholder:"_",value:t,onChange:e=>i("answer",e.target.value),required:!0}),(0,c.jsx)("div",{className:"card__input__caption",children:"\u041e\u041f\u0420\u0415\u0414\u0415\u041b\u0415\u041d\u0418\u0415"})]})]})]})}var l=a(491),d=a(900);function o(){const{id:e}=(0,d.g)(),[s,a]=(0,t.useState)(""),[o,_]=(0,t.useState)([{question:"",answer:""}]),[u,m]=(0,t.useState)(!1),h=(0,d.Zp)();(0,t.useEffect)((()=>{e&&(m(!0),(0,l.IC)(e).then((e=>{a(e.title);const s=Object.entries(e.cards).map((e=>{let[s,a]=e;return{question:s,answer:a}}));_(s)})).catch((()=>{alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430\u0431\u043e\u0440")})))}),[e]);const x=(e,s,a)=>{const t=[...o];t[e][s]=a,_(t)},j=e=>{const s=o.filter(((s,a)=>a!==e));_(s)};return(0,c.jsxs)("div",{className:"createset",children:[(0,c.jsx)(n.A,{}),(0,c.jsxs)("div",{className:"createset__content",children:[(0,c.jsx)(r.A,{}),(0,c.jsxs)("form",{className:"createset__module",onSubmit:async t=>{t.preventDefault();const n={title:s,cards:Object.fromEntries(o.map((e=>[e.question,e.answer])))};try{u?(await(0,l.Xj)(e,n),alert("\u041d\u0430\u0431\u043e\u0440 \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d!"),h("/library")):(await(0,l.vv)(n),alert("\u041d\u0430\u0431\u043e\u0440 \u0441\u043e\u0437\u0434\u0430\u043d!"),a(""),_([{question:"",answer:""}]),h("/library"))}catch{alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438")}},children:[(0,c.jsxs)("div",{className:"module__header__row",children:[(0,c.jsx)("div",{className:"module__title",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043d\u0430\u0431\u043e\u0440"}),(0,c.jsx)("button",{className:"module__create",type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]}),(0,c.jsxs)("div",{className:"module__info__column",children:[(0,c.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435...",value:s,onChange:e=>a(e.target.value),required:!0,className:"module__info__input"}),(0,c.jsxs)("div",{className:"module__info__row",children:[(0,c.jsxs)("button",{id:"btn-import",className:"module__info__btn",children:[(0,c.jsx)("img",{src:"/img/import.svg",alt:""}),"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"]}),(0,c.jsxs)("button",{id:"btn-aicreate",className:"module__info__btn",children:[(0,c.jsx)("img",{src:"/img/aicreate.svg",alt:""}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u0437 \u043a\u043e\u043d\u0441\u043f\u0435\u043a\u0442\u043e\u0432"]})]})]}),o.map(((e,s)=>(0,c.jsx)(i,{index:s,question:e.question,answer:e.answer,onChange:x,onRemove:j},s))),(0,c.jsx)("button",{onClick:()=>{_([...o,{question:"",answer:""}])},children:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"})]})]})]})}}}]);
//# sourceMappingURL=377.dba6fda6.chunk.js.map