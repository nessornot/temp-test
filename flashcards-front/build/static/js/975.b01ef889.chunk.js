"use strict";(self.webpackChunkflashcards_front=self.webpackChunkflashcards_front||[]).push([[975],{170:(s,e,c)=>{c.d(e,{A:()=>l});var a=c(43),t=c(900);const l=s=>{let{children:e}=s;const c=(0,t.Zp)();return(0,a.useEffect)((()=>{localStorage.getItem("jwtToken")&&c("/library")}),[c]),e}},975:(s,e,c)=>{c.r(e),c.d(e,{default:()=>m});var a=c(43),t=c(872),l=c(854),n=c(900),r=c(579);function i(s){let{id:e,title:c,author:a,count:t,onDelete:l}=s;const i=(0,n.Zp)();return(0,r.jsxs)("div",{className:"cardsset",children:[(0,r.jsx)("div",{className:"cardsset__icon",children:(0,r.jsx)("img",{src:"/img/cardsSet.svg",alt:"",className:"cardsset_icon__img"})}),(0,r.jsxs)("div",{className:"cardsset__content",children:[(0,r.jsx)("button",{className:"cardsset__delete",onClick:()=>l(e),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0431\u043e\u0440"}),(0,r.jsx)("button",{className:"cardsset__edit",onClick:()=>i(`/edit/${e}`),children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u0431\u043e\u0440"}),(0,r.jsx)("button",{className:"cardsset__content__title",onClick:()=>i(`/learn/${e}`),children:c}),(0,r.jsxs)("div",{className:"cardsset__row",children:[(0,r.jsx)("div",{className:"cardsset__row__item",children:"\u041d\u0430\u0431\u043e\u0440"}),(0,r.jsxs)("div",{className:"cardsset__row__item",children:["\u041a\u043e\u043b-\u0432\u043e \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a: ",t]}),(0,r.jsxs)("div",{className:"cardsset__row__item",children:["\u0410\u0432\u0442\u043e\u0440: ",a]})]})]})]})}var d=c(170),o=c(491);function _(s){let{message:e,onConfirm:c,onCancel:a}=s;return(0,r.jsx)("div",{className:"confirmmodal",children:(0,r.jsxs)("div",{className:"modal",children:[(0,r.jsx)("div",{className:"modal__msg",children:e}),(0,r.jsxs)("div",{className:"modal__buttons",children:[(0,r.jsx)("button",{className:"modal__confirm",onClick:c,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),(0,r.jsx)("button",{className:"modal__cancel",onClick:a,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})}function m(){const[s,e]=(0,a.useState)([]),[c,n]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{const s=await(0,o.OX)();e(s)}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0431\u043e\u0440\u043e\u0432",s)}})()}),[]);const m=s=>{n(s)};return(0,r.jsx)(d.A,{children:(0,r.jsxs)("div",{className:"library",children:[(0,r.jsx)(t.A,{}),(0,r.jsxs)("div",{className:"library__content",children:[(0,r.jsx)(l.A,{}),(0,r.jsxs)("div",{className:"library__content__main",children:[0===s.length?(0,r.jsx)("div",{children:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043d\u0430\u0431\u043e\u0440\u043e\u0432"}):s.map((s=>(0,r.jsx)(i,{id:s.id,title:s.title,author:s.author_name,count:s.cards_count,onDelete:m},s.id))),null!==c&&(0,r.jsx)(_,{message:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0431\u043e\u0440?",onConfirm:async()=>{try{await(0,o.HC)(c),e((s=>s.filter((s=>s.id!==c)))),n(null)}catch(s){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0431\u043e\u0440\u0430:",s),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043d\u0430\u0431\u043e\u0440.")}},onCancel:()=>{n(null)}})]})]})]})})}}}]);
//# sourceMappingURL=975.b01ef889.chunk.js.map